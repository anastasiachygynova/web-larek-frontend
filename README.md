# Проектная работа "Веб-ларек"

![UML схема](Uml.jpg)

Интернет-магазин с товарами для веб-разработчиков — Web-ларёк. В нём можно посмотреть каталог товаров, добавить товары в корзину и сделать заказ. В проекте используется классовая структура - сущности реализованы как классы, которые инкапсулируют данные и методы. Архитектура проекта построена по принципу MVP.

В проекте присутствуют следующие ключевые классы:

View (Представление)
- Component (базовый класс)
  - Поля:
    - DOM-элемент компонента (HTMLElement или Element)
    - Селекторы дочерних элементов
  - Методы:
    - render(data: any): void — отрисовка данных
    - bindEvents(): void — навешивание обработчиков событий
- Наследники:
  - Modal — модальное окно
  - Basket — корзина
  - Form — форма оформления заказа
  - Success — сообщение об успешном действии
  - Page — страница приложения
  - Card — карточка товара
  - Order — карточка заказа
  - Contacts — форма контактов

Model (Модель)
AppData - главная модель приложения. Взаимодействует с API-клиентом для загрузки/отправки данных.
   Поля:
products: Product[] — список товаров
cart: string[] — id товаров в корзине
orders: Order[] — оформленные заказы
user: User — данные пользователя
   Методы:
fetchProducts(): Promise<void> — загрузка товаров
addToCart(productId: string): void — добавить товар в корзину
removeFromCart(productId: string): void — удалить товар из корзины
createOrder(order: Order): Promise<void> — оформить заказ
clearCart(): void — очистить корзину


Presenter (Презентер)
Основной скрипт (index.ts)
   Назначение:
Посредник между Model и View. 
   Зона ответственности:

-Подписывается на события View
-Вызывает методы Model
-Обновляет View при изменениях данных
Пример:
Обработка событий добавления/удаления товара
Передача данных из AppData в компоненты представления
Реакция на оформление заказа
Итого:

Все View-компоненты наследуют Component
Модель — AppData
Презентер — основной скрипт, связывающий Model и View через события и методы

# Архитектура проекта состоит из следующих ключевых частей:

Компоненты (components): Отвечают за отображение интерфейса и взаимодействия с пользователем

Модели (models): Описывают бизнес-логику и работу с данными (классы для работы с товарами, заказами, корзиной). 

Утилиты (utils): Вспомогательные функции и константы, которые используются в разных частях приложения

API-клиент: Класс для работы с сервером (отправка и получение данных)

Типы (types): Описывают структуры данных и интерфейсы для строгой типизации (интерфейсы Product, Order, User). Обеспечивают безопасность и понятность кода

Стек: HTML, SCSS, TS, Webpack, PostCSS, Node.js (npm/yarn), Prettier, Babel

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build

   ```
```
   Класс `Api`
Инкапсулирует работу с серверным API. Основные функции:
- Хранение базового URL сервера.
- Унифицированные методы для GET и POST/PUT/DELETE-запросов.
- Обработка и парсинг ответов сервера, обработка ошибок.

   Класс `EventEmitter`
Обеспечивает работу событий. Основные функции:
- Возможность установить и снять слушателей событий (`on`, `off`).
- Вызов слушателей при возникновении события (`emit`).
- Поддержка подписки на все события (`onAll`, `offAll`).
- Генерация событий через триггер (`trigger`).

   `Product`
Описывает товар в магазине: его идентификатор, название, описание, категорию, цену и изображение.

   `ProductView`
Расширяет Product для отображения на экране

   `Order`
Описывает заказ: его идентификатор, список товаров, сумму, адрес, контакты и способ оплаты.

   `OrderView`
Расширяет Order для отображения на экране

   `User`
Описывает пользователя, который делает заказ

   `IApiClient`

Реализует методы для получения и отправки данных на сервер

   `ApiListResponse<Type>`

Описывает ответ от API при получении списка объектов

   `enum AppEvent`

Список событий. Событие отражает ключевое действие пользователя или изменение состояния приложения




